.. _data_io_sys:

Data IO System
===============

XOA Core allows users to subscribe to different messages generated by different subsystems (ResourcesManager, ExecutorManager) and test suites.

Code Example of Message Subscription
-------------------------------------

.. code-block:: python
    :caption: Message subscription example
    :linenos:

    async for msg in c.listen_changes(execution_id, _filter={types.EMsgType.STATISTICS}):
        print(msg.dict())

In the snippet above, we subscribe only to the statistic messages from the test suite that is currently in execution.

The ``_filter`` argument is an set of filter types. The first parameter of ``_filter`` argument is a mandatory identifier of the subsystem or the test suite execution.

Subsystem types are shown below:

.. code-block:: python
    :caption: Subsystem types
    :linenos:

    types.PIPE_EXECUTOR

    types.PIPE_RESOURCES


Available filters types:

.. code-block:: python
    :caption: Available filters types
    :linenos:

    class EMsgType(Enum):
        STATE = "STATE"
        DATA = "DATA"
        STATISTICS = "STATISTICS"
        PROGRESS = "PROGRESS"
        WARNING = "WARNING"
        ERROR = "ERROR"


.. note::
    
    ``_filter`` argument is optional. If it is not provided, all message types will be returned from this test suite execution.
